<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>O2: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">O2
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">Inter-process communication system for media applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">O2 Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This documentation is divided into modules. Each module describes a different area of functionality: Basics, Return Codes, Low-Level Message Send, and Low-Level Message Parsing.</p>
<h1><a class="anchor" id="Overview"></a>
Overview</h1>
<p>O2 is a communication protocol for interactive music and media applications. O2 is inspired by Open Sound Control (OSC) and uses similar means to form addresses, specify types, and encode messages.</p>
<p>However, in addition to providing message delivery, O2 offers a discovery mechanism where processes automatically discover and connect to other processes. Each process can offer zero or more named "services," which are top-level nodes in a global, tree-structured address space for a distributed O2 application. In O2, services replace the notion of network addresses (e.g. 128.2.100.57) in OSC.</p>
<p>O2 is based on IP (Internet Protocol), but there are some mechanisms that allow an O2 process to serve as a bridge to other networks such as Bluetooth.</p>
<p>O2 addresses begin with the service name. Thus, a complete O2 address would be written simply as "/synth/filter/cutoff," where "synth" is the service name.</p>
<p>Furthermore, O2 implements a clock synchronization protocol. A single process is designated as the "master," and other processes automatically synchronize their local clocks to the master. All O2 messages are timestamped. Messages are delivered immediately, but their designated operations are invoked according to the timestamp. A timestamp of zero (0.0) means deliver the message immediately. Messages with non-zero timestamps are only deliverable after both the sender and receiver have synchronized clocks.</p>
<p>A service is created using the functions: </p><pre class="fragment">o2_service_new("service_name")
</pre><p>and </p><pre class="fragment">o2_method_new("address," "types," handler, user_data, coerce, parse),
</pre><p>where o2_method_new is called to install a handler for each node, and each "address" includes the service name as the first node.</p>
<p>Some major components and concepts of O2 are the following:</p>
<ul>
<li><b>Application</b> - a collection of collaborating processes are called an "application." Applications are named by a simple ASCII string. In O2, all components belong to an application, and O2 supports communication only <em>within</em> an application. This allows multiple independent applications to co-exist and share the same local area network.</li>
<li><b>Host</b> - (conventional definition) a host is a computer (virtual or real) that may host multiple processes. Essentially, a Host is equivalent to an IP address.</li>
<li><b>Process</b> - (conventional definition) an address space and one or more threads. A process can offer one or more O2 services and can serve as a client of O2 services in the same or other processes. Each process using O2 has one directory of services shared by all O2 activity in that process (thus, this O2 implementation can be thought of as a "singleton" object). The single O2 instance in a process belongs to one and only one application. O2 does not support communication between applications.</li>
<li><b>Service</b> - an O2 service is a named server that receives and acts upon O2 messages. A service is addressed by name. Multiple services can exist within one process. A service does not imply a (new) thread because services are "activated" by calling <a class="el" href="group__basics.html#ga086b104222177b13c3d8e2b47ec9bf28" title="Process current O2 messages. ">o2_poll()</a>. It is up to the programmer ("user") to call <a class="el" href="group__basics.html#ga086b104222177b13c3d8e2b47ec9bf28" title="Process current O2 messages. ">o2_poll()</a> frequently, and if this is done using multiple threads, it is up to the programmer to deal with all concurrency issues. O2 is not reentrant, so <a class="el" href="group__basics.html#ga086b104222177b13c3d8e2b47ec9bf28" title="Process current O2 messages. ">o2_poll()</a> should be called by only one thread. Since there is at most one O2 instance per process, a single call to <a class="el" href="group__basics.html#ga086b104222177b13c3d8e2b47ec9bf28" title="Process current O2 messages. ">o2_poll()</a> handles all services in the process.</li>
<li><b>Message</b> - an O2 message, similar to an OSC message, contains an address pattern representing a function, a type string and a set of values representing parameters.</li>
<li><b>Address Pattern</b> - O2 messages use URL-like addresses, as does OSC, but the top-level node in the hierarchical address space is the service name. Thus, to send a message to the "note" node of the "synth" service, the address pattern might be "/synth/note." The OSC pattern specification language is used unless the first character is "!", e.g. "!synth/note" denotes the same address as "/synth/note" except that O2 can assume that there are no pattern characters such as "*" or "[".</li>
<li><b>Scheduler</b> - O2 implements two schedulers for timed message delivery. Schedulers are served by the same <a class="el" href="group__basics.html#ga086b104222177b13c3d8e2b47ec9bf28" title="Process current O2 messages. ">o2_poll()</a> call that runs other O2 activity. The <a class="el" href="group__basics.html#ga12a5538a2b701920639e89be06ad8d49" title="Scheduler that schedules according to global (master) clock time. ">o2_gtsched</a> schedules according to the application's master clock time, but since this depends on clock synchronization, nothing can be scheduled until clock synchronization is achieved (typically within a few seconds of starting the process that provides the master clock). For local-only services, it is possible to use the <a class="el" href="group__basics.html#ga65a8e27a3d04e922c4903e54f3399752" title="Scheduler that schedules according to local clock time. ">o2_ltsched</a> scheduler (not with <a class="el" href="group__basics.html#ga5cc673b5516b18a164b5977798cf9b50" title="Construct and send O2 message with best effort protocol. ">o2_send()</a>, but by explicitly constructing messages and scheduling them with <a class="el" href="group__basics.html#ga2bb3e18653c5cd78174042c75e7da8b2">o2_schedule()</a>. In any case, scheduling is useful <em>within</em> a service for any kind of timed activity. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
